function setCurrentProgress(){let $totalChoices,totalQuestions=$('input[name^="choices_"]').length/5+$('textarea[name^="answer_"]').length,answeredQuestions,progress=getAnsweredQuestions()/totalQuestions*100;$(".progress-bar").css("width",progress.toFixed(0)+"%"),$(".progress-bar").text(progress.toFixed(0)+"%"),toggleReviewButton(100!=progress.toFixed(0))}function updateReview($this){let name=$this.attr("name");if(name.includes("answer")){let textarea;$('textarea[name="review_'+name+'"]').text($this.val())}else if(name.includes("choices")){let radios=$('input[name="review_'+name+'"]');for(let i=0;i<radios.length;i++)$(radios[i]).val()===$this.val()?($(radios[i]).prop("checked",!0),$('input[name="review_final_'+name+'"]').val($(radios[i]).val())):$(radios[i]).prop("checked",!1)}}function getAnsweredQuestions(){let alreadyAnswered=0,questionIDs=$('input[name^="question_id_"]');for(let i=0;i<questionIDs.length;i++)i<36&&void 0!==$('input[name^="choices_'+$(questionIDs[i]).val()+'"]:checked').val()?alreadyAnswered++:i>=36&&0!==$('textarea[name="answer_'+$(questionIDs[i]).val()+'"]').val().length&&alreadyAnswered++;return alreadyAnswered}function toggleReviewButton(status){$("#review").prop("disabled",status)}function initializeReviewButton(){let progress;toggleReviewButton(100!=($(".progress-bar").width()/$(".progress-bar").parent().width()*100).toFixed(0))}$((function(){initializeReviewButton(),$(".evalbtn").click((function(){let evalbtns=$(".evalbtn");for(let i=0;i<evalbtns.length;i++)$(evalbtns[i]).hasClass("active")&&$(evalbtns[i]).removeClass("active");$(this).addClass("active")})),$(".category").click((function(){let evalbtns=$(".category");for(let i=0;i<evalbtns.length;i++)$(evalbtns[i]).hasClass("activeCategory")&&$(evalbtns[i]).removeClass("activeCategory");$(this).addClass("activeCategory");let tabs=$(".tab-pane");for(let i=0;i<tabs.length;i++)$(tabs[i]).hasClass("active")&&$(tabs[i]).removeClass("active"),$(tabs[i]).hasClass("show")&&$(tabs[i]).removeClass("show");let target=$(this).attr("data-target");$("#"+target).addClass("show"),$("#"+target).addClass("active"),$("#evalCategories").hasClass("responsive")&&$("#evalCategories").removeClass("responsive"),$(".action-display").text($(this).text())})),setCurrentProgress(),$('input[name^="choices_"], textarea[name^="answer_"').change((function(){let $savestatus=$(".savestatus");$savestatus.hasClass("d-none")&&$savestatus.removeClass("d-none"),updateReview($(this)),setCurrentProgress()}))}));